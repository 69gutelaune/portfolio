let parallaxForeground=document.querySelector(".parallax-foreground-image");const parallaxSection=document.querySelector("#parallax-section");let parallaxForegroundPosition=getCoords(parallaxForeground);function getCoords(o){o=o.getBoundingClientRect();return{top:o.top+window.pageYOffset,right:o.right+window.pageXOffset,bottom:o.bottom+window.pageYOffset,left:o.left+window.pageXOffset}}function positionSection(){console.log("positioning!"),parallaxForegroundPosition=getCoords(parallaxForeground),parallaxSection.style.height=parallaxForegroundPosition.bottom+"px"}document.addEventListener("scroll",()=>{positionSection()}),document.addEventListener("resize",()=>{positionSection()});

const myNameHtml=document.querySelector("#hero-h2"),h2Content="Georgiy Stier",leftMarkup=document.querySelector(".left-tag-subhead"),rightMarkup=document.querySelector(".right-tag-subhead");let indexG=0,currentTextG="",letterG="";function typeGeorgiy(){var e=Math.floor(200*Math.random()+30);currentText=h2Content,letterG=currentText.slice(0,++indexG),(myNameHtml.textContent=letterG).length!==currentText.length?setTimeout(typeGeorgiy,e):(console.log(leftMarkup.style),leftMarkup.style.opacity="100%",rightMarkup.style.opacity="100%")}const jumboH1=document.querySelector("#hero-jumbo"),jumboContent="Web-Development";let index=0,currentText="",letter="";!function e(){var t=Math.floor(200*Math.random()+30);currentText=jumboContent,letter=currentText.slice(0,++index),(jumboH1.textContent=letter).length!==currentText.length?setTimeout(e,t):(jumboH1.innerHTML=`Web-Development
    <span aria-hidden="true">Web-Development</span><span  aria-hidden="true">Web-Development</span>`,jumboH1.classList.add("glitch"),jumboH1.classList.remove("jumboTypingEffect"),setTimeout(typeGeorgiy,t))}();const headlines=document.querySelector("#hero-heaadlines");function jumboOpacity(){console.log("yo"),window.scrollY>=window.innerHeight/5?headlines.style.opacity=0:headlines.style.opacity=1}document.addEventListener("resize",()=>{console.log("hi")});
const canvas=document.getElementById("matrix-canvas"),ctx=canvas.getContext("2d");function calculateCanvasSize(){canvas.height=canvas.clientHeight,canvas.width=window.innerWidth}calculateCanvasSize();let mouse={x:void 0,y:void 0};function findMaxHeightOfAninmation(){return 400<canvas.height?250:canvas.height/2}window.addEventListener("mousemove",t=>{mouse.x=t.x,mouse.y=t.y});let maxAnimationHeight=findMaxHeightOfAninmation(),minAnimationHeight=600;const symbolsArray="♪アァカサタナハマヤャラワンわワヰヱヲらりるれろラリルレロヤユヨマミムメモはひふへほハヒフヘいうえアイウエオかたにナニヌネノちつてとタチツテトきくけこカキクケコさしすせそサスセソABCDEFGHIJKLMNOPQRSTUVWXYZ123456789",fontFamily="Verdana";let fontSize=20;function calculateFontSize(){fontSize=1e3<window.innerWidth?20:15}calculateFontSize();let bgColor="rgba(221, 129, 21, 1)",bgColor20="rgba(221, 129, 21, 0.2)",bgColor50="rgba(221, 129, 21, 0.5)",bgBottomColor="rgba(244, 178, 70, 1)",bgBottomColor20="rgba(244, 178, 70, 0.2)",bgBottomColor50="rgba(244, 178, 70, 0.5)",hoverColor="rgba(192, 255, 220, 1)",white="rgba(255, 255, 255, 0.5)",white50="rgba(255, 255, 255, 0.3)",white20="rgba(255, 255, 255, 0.1)",transparent="rgba(255, 255, 255, 0)",gradient=ctx.createLinearGradient(canvas.width/2,0,canvas.width/2,canvas.height),backgroundGradient=(gradient.addColorStop(0,white),gradient.addColorStop(.2,white50),gradient.addColorStop(.4,white20),gradient.addColorStop(1,transparent),ctx.createLinearGradient(canvas.width/2,0,canvas.width/2,canvas.height)),backgroundGradient20=(backgroundGradient.addColorStop(0,bgColor),backgroundGradient.addColorStop(1,bgBottomColor),ctx.createLinearGradient(canvas.width/2,0,canvas.width/2,canvas.height));function updateGradients(){(backgroundGradient=ctx.createLinearGradient(canvas.width/2,0,canvas.width/2,canvas.height)).addColorStop(0,bgColor),backgroundGradient.addColorStop(1,bgBottomColor),(backgroundGradient20=ctx.createLinearGradient(canvas.width/2,0,canvas.width/2,canvas.height)).addColorStop(0,bgColor20),backgroundGradient20.addColorStop(1,bgBottomColor20)}backgroundGradient20.addColorStop(0,bgColor20),backgroundGradient20.addColorStop(1,bgBottomColor20);let reset=!1,firstTime=!0,mouseDistance=50,hover=!1,lastTime=0;const fps=6,nextFrame=1e3/fps;let timer=0;function overpaintBackground(){ctx.fillStyle=backgroundGradient,ctx.fillRect(0,0,canvas.width,canvas.height)}overpaintBackground();class Letter{constructor(t,e){this.x=t,this.y=e,this.go=!1,this.firstTime=!0}draw(){0==hover?ctx.fillStyle=gradient:ctx.fillStyle=hoverColor,ctx.textAlign="center",ctx.font=fontSize+"px "+fontFamily,ctx.fillText(symbolsArray.charAt(Math.floor(Math.random()*symbolsArray.length)),this.x,this.y)}}function createArray(){let e=[];for(let t=0;t<canvas.width/fontSize;t++)e[t]=new Letter(fontSize*t,fontSize);return e}let lettersArray=createArray();function allowColumnAnimation(t){0==lettersArray[t].go&&(1==lettersArray[t].firstTime?.93<Math.random()&&(lettersArray[t].go=!0,lettersArray[t].firstTime=!1):.8<Math.random()&&(lettersArray[t].go=!0))}function mouseHover(t){hover=lettersArray[t].x-mouse.x<=mouseDistance&&lettersArray[t].x-mouse.x>=-mouseDistance&&lettersArray[t].y-mouse.y<=mouseDistance&&lettersArray[t].y-mouse.y>=-mouseDistance}function resetLetterToBeginning(t){.85<Math.random()&&(lettersArray[t].go=!1,lettersArray[t].y=fontSize)}let animationOn=!0;function animate(t){if(animationOn){var e=t-lastTime;if(lastTime=t,requestAnimationFrame(animate),timer>nextFrame){ctx.fillStyle=backgroundGradient20,ctx.fillRect(0,0,canvas.width,canvas.height);for(let t=0;t<lettersArray.length;t++)allowColumnAnimation(t),1==lettersArray[t].go&&(mouseHover(t),lettersArray[t].draw(),lettersArray[t].y+=fontSize,ctx.fillStyle=backgroundGradient20,ctx.fillRect(lettersArray[t].x-fontSize/2,lettersArray[t].y-12*fontSize,fontSize,2*fontSize)),lettersArray[t].y>maxAnimationHeight&&resetLetterToBeginning(t);timer=0}else timer+=e}}animate(0);let matrixResizeWaiting=!1,windowWidth=window.innerWidth;function matrixResize(){console.log("running"),animationOn=!0,calculateCanvasSize(),calculateFontSize(),updateGradients(),lettersArray=createArray(),maxAnimationHeight=findMaxHeightOfAninmation(),overpaintBackground(),animate(0)}window.addEventListener("resize",()=>{(windowWidth>window.innerWidth+25||windowWidth<window.innerWidth-25)&&(windowWidth=window.innerWidth,matrixResizeWaiting||(animationOn=!1,matrixResizeWaiting=!0,setTimeout(()=>{matrixResizeWaiting=!1,matrixResize()},1e3)))});